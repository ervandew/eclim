<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Architecture &mdash; eclim (eclipse + vim)</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/jquery.hoverscroll.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-responsive.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     'v2.5.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/jquery.ba-hashchange.js"></script>
    <script type="text/javascript" src="../_static/jquery.hoverscroll.js"></script>
    <script type="text/javascript" src="../_static/bootstrap.js"></script>
    <script type="text/javascript" src="../_static/bootstrap.scrollspy.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="eclim (eclipse + vim)" href="../index.html" />
    <link rel="up" title="Development Docs" href="index.html" />
    <link rel="next" title="Commands" href="commands.html" />
    <link rel="prev" title="Developers Guide" href="gettingstarted.html" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <link rel="stylesheet" type="text/css" href="../_static/docs.css" />

  </head>
  <body role="document">
  
  <div id="navbar" class="navbar navbar-inverse no-js">
    <div class="navbar-inner">
      <div class="container-fluid">
        <a class="brand" href="../index.html">eclim</a>
        <span class="navbar-text pull-left"></span>
        <ul class="nav">
          <li class="divider-vertical"></li>
          <li><b class="navbar-text">v2.5.0</b></li>
          
            <li class="dropdown">
  <a href="../index.html" class="dropdown-toggle" data-toggle="dropdown">Contents <b class="caret"></b></a>
  <ul class="current dropdown-menu">
<li class="toctree-l1"><a class="reference internal" href="../install.html">Download / Install</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../gettingstarted.html">Getting Started</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../gettinghelp.html">Getting Help</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1 dropdown-submenu"><a class="reference internal" href="../vim/index.html">Documentation</a><ul class="dropdown-menu">
<li class="toctree-l2"><a class="reference internal" href="../eclimd.html">The Eclim Daemon</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2 dropdown-submenu"><a class="reference internal" href="../vim/core/index.html">Core Functionality</a><ul class="dropdown-menu">
<li class="toctree-l3"><a class="reference internal" href="../vim/core/eclim.html">Eclim Manage / Config</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../vim/core/project.html">Eclipse Project Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vim/core/history.html">Eclipse Local History</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../vim/core/locate.html">Locate File</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vim/core/util.html">Utility Commands</a></li>
</ul>
</li>
<li class="toctree-l2 dropdown-submenu"><a class="reference internal" href="../vim/c/index.html">C/C++</a><ul class="dropdown-menu">
<li class="toctree-l3"><a class="reference internal" href="../vim/c/project.html">C/C++ Project Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vim/c/complete.html">C/C++ Code Completion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vim/c/validate.html">C/C++ Validation</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../vim/c/search.html">C/C++ Search</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../vim/c/inspection.html">C/C++ Code Inspection</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../vim/html/index.html">Html / Css</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2 dropdown-submenu"><a class="reference internal" href="../vim/groovy/index.html">Groovy</a><ul class="dropdown-menu">
<li class="toctree-l3"><a class="reference internal" href="../vim/groovy/complete.html">Groovy Code Completion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vim/groovy/validate.html">Groovy Validation</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 dropdown-submenu"><a class="reference internal" href="../vim/java/index.html">Java</a><ul class="dropdown-menu">
<li class="toctree-l3"><a class="reference internal" href="../vim/java/classpath.html">Eclipse Classpath Editing</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../vim/java/validate.html">Java Validation / Correction</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../vim/java/complete.html">Java Code Completion</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../vim/java/search.html">Java Search</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../vim/java/java.html">Java / Jps</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../vim/java/debug.html">Java Debugging</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../vim/java/javadoc.html">Javadoc Support</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../vim/java/format.html">Java Source Code Formatting</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../vim/java/refactor.html">Java Refactoring</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../vim/java/inspection.html">Java Code Inspection</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../vim/java/import.html">Automated Imports</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../vim/java/types.html">Type Creation</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../vim/java/methods.html">Method Generation</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../vim/java/unittests.html">Unit Tests</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../vim/java/logging.html">Logging (log4j, etc)</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../vim/java/ant.html">Ant</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../vim/java/maven.html">Maven</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../vim/java/android.html">Android</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../vim/java/webxml.html">WEB-INF/web.xml</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../vim/javascript/index.html">Javascript</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2 dropdown-submenu"><a class="reference internal" href="../vim/php/index.html">Php</a><ul class="dropdown-menu">
<li class="toctree-l3"><a class="reference internal" href="../vim/php/buildpath.html">Php Build Path</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vim/php/complete.html">Php Code Completion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vim/php/validate.html">Php Validation</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../vim/php/search.html">Php Search</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 dropdown-submenu"><a class="reference internal" href="../vim/python/index.html">Python</a><ul class="dropdown-menu">
<li class="toctree-l3"><a class="reference internal" href="../vim/python/path.html">Python Interpreter / Paths</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../vim/python/validate.html">Python Validation</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../vim/python/complete.html">Python Code Completion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vim/python/search.html">Python Search</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../vim/python/django.html">Django</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 dropdown-submenu"><a class="reference internal" href="../vim/ruby/index.html">Ruby</a><ul class="dropdown-menu">
<li class="toctree-l3"><a class="reference internal" href="../vim/ruby/buildpath.html">Ruby Interpreters / Build Path</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../vim/ruby/complete.html">Ruby Code Completion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vim/ruby/validate.html">Ruby Validation</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../vim/ruby/search.html">Ruby Search</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 dropdown-submenu"><a class="reference internal" href="../vim/scala/index.html">Scala</a><ul class="dropdown-menu">
<li class="toctree-l3"><a class="reference internal" href="../vim/scala/complete.html">Scala Code Completion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vim/scala/validate.html">Scala Validation</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../vim/scala/search.html">Scala Search</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../vim/scala/import.html">Automated Imports</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../vim/xml/index.html">Xml / Dtd / Xsd</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current dropdown-submenu active"><a class="reference internal" href="index.html">Development Docs</a><ul class="current dropdown-menu">
<li class="toctree-l2"><a class="reference internal" href="gettingstarted.html">Developers Guide</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2 current active"><a class="current reference internal" href="">Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="commands.html">Commands</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="plugins.html">Plugins</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ / Troubleshooting</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../features.html">Features</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cheatsheet.html">Cheatsheet</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changes.html">History of Changes</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">Contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="../relatedprojects.html">Related Projects</a><ul class="simple">
</ul>
</li>
</ul>

</li>
            
          
          
            
  <li class="hidden-phone"><a href="gettingstarted.html"
         title="previous chapter">&laquo; Developers Guide</a></li>
  <li class="hidden-phone"><a href="commands.html"
         title="next chapter">Commands &raquo;</a></li>
          
          
          
        </ul>
        
  <form class="navbar-search pull-right hidden-phone" action="http://www.google.com/cse" id="cse-search-box" style="margin-bottom:-3px;">
    <div>
      <input type="hidden" name="cx" value="017410349476015560612:d4krsrdx6ym" />
      <input type="hidden" name="ie" value="UTF-8" />
      <input type="text" name="q" size="18" />
    </div>
  </form>
  <script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=cse-search-box&lang=en"></script>

      </div>
    </div>
  </div>

  <a href="https://github.com/ervandew/eclim" class="hidden-phone"><img style="position: absolute; top: 40px; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>

  <div class="body container">
  <div >
    <div class="content ">
      
      
  <div class="section" id="architecture">
<h1>Architecture<a class="headerlink" href="#architecture" title="Permalink to this headline">Â¶</a></h1>
<p>The eclim architecture is pretty straight forward.  Commands issued by a user
in vim are relayed via <a class="reference external" href="http://www.martiansoftware.com/nailgun/">nailgun</a> to the running eclim daemon and the proper
command implementation is then located and executed.</p>
<p>Here is a diagram showing the sequence in a bit more detail:</p>
<p class="plantuml">
<img src="../_images/plantuml-5cc255a9c88690f74e514f8dd6997111e3c53aa3.png" alt="skinparam monochrome true
hide footbox
box &quot;Vim&quot;
  participant &quot;&lt;command&gt;.vim&quot;
  participant eclim.vim
end box
participant nailgun
box &quot;Eclipse / Eclimd&quot;
  participant Main
  participant Services
  participant &quot;&lt;Command&gt;&quot;
end box

&quot;&lt;command&gt;.vim&quot; -&gt; eclim.vim : eclim#Execute
activate eclim.vim

eclim.vim -&gt; nailgun
activate nailgun

nailgun -&gt; Main : main
activate Main

Main -&gt; Services : getCommand
Services --&gt; Main
Main -&gt; &quot;&lt;Command&gt;&quot; : execute
&quot;&lt;Command&gt;&quot; --&gt; Main
Main --&gt; nailgun
nailgun --&gt; eclim.vim
eclim.vim --&gt; &quot;&lt;command&gt;.vim&quot;

deactivate Main
deactivate nailgun
deactivate eclim.vim" />
</p>
<p>The commands which are executed on the eclimd side are also fairly simple.
They accept an object containing the command line parameters passed into the
eclim invocation and then return an object (String, Collection, etc) which is
converted to a json response.  Below is a simple class diagram showing the
hierarchy of a couple typical commands.</p>
<p class="plantuml">
<img src="../_images/plantuml-1f718d5608eb5ab9260075d20b125ac7a3fa81dd.png" alt="skinparam monochrome true
skinparam circled {
  CharacterFontSize 0
  CharacterRadius 0
}

Command &lt;|.. AbstractCommand
AbstractCommand &lt;|-- PingCommand
AbstractCommand &lt;|-- ShutdownCommand

class Command &lt;&lt;Interface&gt;&gt; {
  Object execute(CommandLine)
}
AbstractCommand : Preferences getPreferences()
PingCommand : Object execute(CommandLine)
ShutdownCommand : Object execute(CommandLine)" />
</p>
<p>Another important aspect of eclim's architecture is support for plugins.
Plugins for eclim are bundled as eclipse plugins with their auto start
attribute set to false.  When the eclim daemon starts it will locate and load
any eclipse plugin with an 'org.eclim.' prefix.</p>
<p>When a plugin is loaded, eclim will locate the plugin's required resources
provider and invoke its initialize method which will then inject its resources
(messages, command options, etc) into eclim and register any new commands.</p>
<p>Here is graphical representation of this process:</p>
<p class="plantuml">
<img src="../_images/plantuml-d0a2e51110340c9343091b708c279038967118c7.png" alt="skinparam monochrome true
hide footbox

participant &quot;&lt;Eclipse&gt;&quot;
participant EclimApplication
participant PluginResources
participant Services

&quot;&lt;Eclipse&gt;&quot; -&gt; EclimApplication : start
activate EclimApplication
EclimApplication -&gt; EclimApplication : loadPlugins
activate EclimApplication
EclimApplication -&gt; PluginResources : initialize
activate PluginResources
PluginResources -&gt; Services : addPluginResources
PluginResources -&gt; Services : registerCommand
PluginResources --&gt; EclimApplication
deactivate PluginResources

deactivate EclimApplication
deactivate EclimApplication
EclimApplication --&gt; &quot;&lt;Eclipse&gt;&quot;" />
</p>
</div>


    </div>
  </div>
</div>
  
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      
  <a href="../_sources/development/architecture.txt"
         rel="nofollow">Source</a> /
      <a href="#">Back to top</a>
    </p>
    <p>
        &copy; Copyright 2005 - 2012, Eric Van Dewoestine<br/>
      Last updated on Jul 25, 2015<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.1
      with the <a href="https://github.com/ervandew/sphinx-bootstrap-theme">Bootstrap Theme</a>
      <br/>
    </p>
  </div>
</footer>
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-575508-1']);
    _gaq.push(['_trackPageview']);
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>

  </body>
</html>