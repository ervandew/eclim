
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Java Refactoring &#8212; eclim (eclipse + vim)</title>
    <link rel="stylesheet" href="../../_static/jquery.hoverscroll.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-responsive.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/basic.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/jquery.ba-hashchange.js"></script>
    <script src="../../_static/jquery.hoverscroll.js"></script>
    <script src="../../_static/bootstrap.js"></script>
    <script src="../../_static/bootstrap.scrollspy.js"></script>
    <script src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Java Code Inspection" href="inspection.html" />
    <link rel="prev" title="Java Source Code Formatting" href="format.html" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <link rel="stylesheet" type="text/css" href="../../_static/docs.css" />

  </head><body>
  
  <div id="navbar" class="navbar navbar-inverse no-js">
    <div class="navbar-inner">
      <div class="container-fluid">
        <a class="brand" href="../../index.html">eclim</a>
        <span class="navbar-text pull-left"></span>
        <ul class="nav">
          <li class="divider-vertical"></li>
          <li><b class="navbar-text">v2.21.0</b></li>
          
            <li class="dropdown">
  <a href="../../index.html" class="dropdown-toggle" data-toggle="dropdown">Contents <b class="caret"></b></a>
  <ul class="current dropdown-menu">
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Download / Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gettingstarted.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gettinghelp.html">Getting Help</a></li>
<li class="toctree-l1 current dropdown-submenu active"><a class="reference internal" href="../index.html">Documentation</a><ul class="current dropdown-menu">
<li class="toctree-l2"><a class="reference internal" href="../../eclimd.html">The Eclim Daemon</a></li>
<li class="toctree-l2 dropdown-submenu"><a class="reference internal" href="../core/index.html">Core Functionality</a><ul class="dropdown-menu">
<li class="toctree-l3"><a class="reference internal" href="../core/eclim.html">Eclim Manage / Config</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core/project.html">Eclipse Project Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core/history.html">Eclipse Local History</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core/locate.html">Locate File</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core/util.html">Utility Commands</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../html/index.html">Html / Css</a></li>
<li class="toctree-l2 current dropdown-submenu active"><a class="reference internal" href="index.html">Java</a><ul class="current dropdown-menu">
<li class="toctree-l3"><a class="reference internal" href="classpath.html">Eclipse Classpath Editing</a></li>
<li class="toctree-l3"><a class="reference internal" href="validate.html">Java Validation / Correction</a></li>
<li class="toctree-l3"><a class="reference internal" href="complete.html">Java Code Completion</a></li>
<li class="toctree-l3"><a class="reference internal" href="search.html">Java Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="java.html">Java / Jps</a></li>
<li class="toctree-l3"><a class="reference internal" href="javadoc.html">Javadoc Support</a></li>
<li class="toctree-l3"><a class="reference internal" href="format.html">Java Source Code Formatting</a></li>
<li class="toctree-l3 current active"><a class="current reference internal" href="#">Java Refactoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="inspection.html">Java Code Inspection</a></li>
<li class="toctree-l3"><a class="reference internal" href="import.html">Automated Imports</a></li>
<li class="toctree-l3"><a class="reference internal" href="types.html">Type Creation</a></li>
<li class="toctree-l3"><a class="reference internal" href="methods.html">Method Generation</a></li>
<li class="toctree-l3"><a class="reference internal" href="unittests.html">Unit Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="logging.html">Logging (log4j, etc)</a></li>
<li class="toctree-l3"><a class="reference internal" href="ant.html">Ant</a></li>
<li class="toctree-l3"><a class="reference internal" href="maven.html">Maven</a></li>
<li class="toctree-l3"><a class="reference internal" href="webxml.html">WEB-INF/web.xml</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../javascript/index.html">Javascript</a></li>
<li class="toctree-l2 dropdown-submenu"><a class="reference internal" href="../python/index.html">Python</a><ul class="dropdown-menu">
<li class="toctree-l3"><a class="reference internal" href="../python/path.html">Python Interpreter / Paths</a></li>
<li class="toctree-l3"><a class="reference internal" href="../python/validate.html">Python Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../python/complete.html">Python Code Completion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../python/search.html">Python Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../python/django.html">Django</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../xml/index.html">Xml / Dtd / Xsd</a></li>
</ul>
</li>
<li class="toctree-l1 dropdown-submenu"><a class="reference internal" href="../../development/index.html">Development Docs</a><ul class="dropdown-menu">
<li class="toctree-l2"><a class="reference internal" href="../../development/gettingstarted.html">Developers Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../development/architecture.html">Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../development/commands.html">Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../development/plugins.html">Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../development/installer.html">Building the eclim installer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">FAQ / Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cheatsheet.html">Cheatsheet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changes.html">History of Changes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute.html">Contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../relatedprojects.html">Related Projects</a></li>
</ul>

</li>
            
          
          
            
  <li class="hidden-phone"><a href="format.html"
         title="previous chapter">&laquo; Java Source Code Formatting</a></li>
  <li class="hidden-phone"><a href="inspection.html"
         title="next chapter">Java Code Inspection &raquo;</a></li>
          
          
          
        </ul>
        
  <form class="navbar-search pull-right hidden-phone" action="http://www.google.com/cse" id="cse-search-box" style="margin-bottom:-3px;">
    <div>
      <input type="hidden" name="cx" value="017410349476015560612:d4krsrdx6ym" />
      <input type="hidden" name="ie" value="UTF-8" />
      <input type="text" name="q" size="18" />
    </div>
  </form>
  <script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=cse-search-box&lang=en"></script>

      </div>
    </div>
  </div>

  <a href="https://github.com/ervandew/eclim" class="hidden-phone"><img style="position: absolute; top: 40px; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>

  <div class="body container">
  <div >
    <div class="content ">
      
      
  <div class="section" id="java-refactoring">
<h1>Java Refactoring<a class="headerlink" href="#java-refactoring" title="Permalink to this heading">¶</a></h1>
<div class="page-toc subnav navbar">
<div class="navbar-inner">
<ul class="nav">
<li><a class="reference internal" href="#rename">Rename</a></li>
<li><a class="reference internal" href="#move">Move</a></li>
<li><a class="reference internal" href="#refactor-undo-redo">Refactor Undo/Redo</a></li>
<li><a class="reference internal" href="#configuration">Configuration</a></li>
</ul>
</div>
</div>
<div class="section" id="rename">
<span id="javarename"></span><h2>Rename<a class="headerlink" href="#rename" title="Permalink to this heading">¶</a></h2>
<p>The first refactoring that eclim supports is <strong>:JavaRename</strong>, which can be used
to rename various java elements.</p>
<p>Example:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">package</span><span class="w"> </span><span class="nn">org.foo.bar</span><span class="p">;</span><span class="w"></span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Foo</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">bar</span><span class="p">(){</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>To rename the class from ‘Foo’ to ‘Bar’ you simply position the cursor over the
class name ‘Foo’ and execute:</p>
<div class="highlight-vim notranslate"><div class="highlight"><pre><span></span><span class="p">:</span>JavaRename Bar
</pre></div>
</div>
<p>The result of which will the following prompt:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Rename</span> <span class="s2">&quot;Foo&quot;</span> <span class="n">to</span> <span class="s2">&quot;Bar&quot;</span>
<span class="p">([</span><span class="n">e</span><span class="p">]</span><span class="n">xecute</span> <span class="o">/</span> <span class="p">[</span><span class="n">p</span><span class="p">]</span><span class="n">review</span> <span class="o">/</span> <span class="p">[</span><span class="n">c</span><span class="p">]</span><span class="n">ancel</span><span class="p">):</span>
</pre></div>
</div>
<p>This prompt give you three options:</p>
<ol class="arabic">
<li><p class="first">execute: Execute the refactoring without previewing the changes to be made.
The current file and any other changed files open in the current instance of
vim will be reloaded.</p>
</li>
<li><p class="first">preview: Preview the changes that the refactoring will perform.  This will
open a scratch buffer with a list of changes to be made along with a link at
the bottom to execute the refactoring.</p>
<p>The contents of the preview window will vary depending on what you are
renaming.</p>
<p>If we are renaming ‘Foo’ to ‘Bar’ the contents would be like so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">other</span><span class="p">:</span> <span class="n">Rename</span> <span class="n">compilation</span> <span class="n">unit</span> <span class="s1">&#39;Foo.java&#39;</span> <span class="n">to</span> <span class="s1">&#39;Bar.java&#39;</span>

<span class="o">|</span><span class="n">Execute</span> <span class="n">Refactoring</span><span class="o">|</span>
</pre></div>
</div>
<p>If we are renaming the method ‘bar’ to ‘foo’, the contents would look like
so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">|</span><span class="n">diff</span><span class="o">|</span><span class="p">:</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">someuser</span><span class="o">/</span><span class="n">workspace</span><span class="o">/</span><span class="n">test_java</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">org</span><span class="o">/</span><span class="n">foo</span><span class="o">/</span><span class="n">bar</span><span class="o">/</span><span class="n">Foo</span><span class="o">.</span><span class="n">java</span>

<span class="o">|</span><span class="n">Execute</span> <span class="n">Refactoring</span><span class="o">|</span>
</pre></div>
</div>
<p>If the first instance, there is not much to preview.  Since this particular
class is not referenced anywhere else, the only operation eclipse will
perform, is to rename the file from ‘Foo.java’ to ‘Bar.java’ which will also
update the class name in that file.</p>
<p>In the second instance eclipse provides a preview of the actual changes to
the file what will be performed.  If the method were referenced elsewhere,
you would see an entry for each file that would be modified by the
refactoring.  To actually for a vim diff split of the changes that will be
performed, simple position the cursor on the diff entry and hit &lt;enter&gt;.</p>
<p>Once you are satisfied with changes that eclipse will perform, you can then
execute the refactoring by positioning the cursor over the “|Execute
Refactoring|” link and hit &lt;enter&gt;.</p>
</li>
<li><p class="first">cancel: Cancel the refactoring (Hitting enter without typing a choice or
hitting Ctrl-C will also cancel the refactoring).</p>
</li>
</ol>
<p><strong>Package Renaming</strong></p>
<p>Renaming a package is performed just like renaming any other element.  However,
the name you supply to the <strong>:JavaRename</strong> command must be the full package
name that you are renaming the package to.  For example.  In sample java file
above, if you place the cursor on the ‘org’ portion of the package declaration,
you can rename ‘org’ to ‘com’ by running <code>:JavaRename com</code>.  If you want to
rename the ‘foo’ package to ‘baz’ you can do so by running <code>:JavaRename
org.baz</code>.  Note that if you were to only supply the name ‘baz’, the ‘foo’
package would be moved to the same level as ‘org’ and then renamed.</p>
<div class="alert">
<p class="alert-heading first admonition-title">Warning</p>
<p class="last">When renaming a package, the associated directory will also be renamed in the
underlying file system.  Eclim will do its best to reload any files that have
moved as a result of the directory renaming and adjust your current working
directory if necessary, but only for the current vim session.  If you have
other vim sessions open with files located in the directory that is renamed,
then eclim will be unable to reload those files in those sessions for you, so
you will have to do so manually.  A best practice would be to close any other
vim sessions that might be affected by the renaming of a package.</p>
</div>
</div>
<div class="section" id="move">
<span id="javamove"></span><h2>Move<a class="headerlink" href="#move" title="Permalink to this heading">¶</a></h2>
<p>Eclim also supports moving a top level class or interface from one package to
another using the <strong>:JavaMove</strong> command.</p>
<p>In this example the current file would be moved from its current package to the
package <code>org.foo</code>:</p>
<div class="highlight-vim notranslate"><div class="highlight"><pre><span></span><span class="p">:</span>JavaMove org.foo
</pre></div>
</div>
<p>Like the package renaming described in the previous section, the argument to
<strong>:JavaMove</strong> must be the full package name you want to move the current file
to.</p>
</div>
<div class="section" id="refactor-undo-redo">
<h2>Refactor Undo/Redo<a class="headerlink" href="#refactor-undo-redo" title="Permalink to this heading">¶</a></h2>
<p>In the event that you need to undo a refactoring, eclim provides the
<strong>:RefactorUndo</strong> command. When executed, the last refactoring will be
reverted. If you are unsure what the last refactoring was, the
<strong>:RefactorUndoPeek</strong> command will print the name of the top most refactoring
on the undo stack.</p>
<p>Eclim also provides the <strong>:RefactorRedo</strong> and <strong>:RefactorRedoPeek</strong> commands
which provide the redo counterpart to the undo commands.</p>
</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this heading">¶</a></h2>
<p><a class="reference internal" href="../settings.html"><span class="doc">Vim Settings</span></a></p>
<ul class="simple" id="g-eclimrefactordifforientation">
<li><strong>g:EclimRefactorDiffOrientation</strong> (Default: ‘vertical’) -
Specifies the orientation used when previewing a refactoring and performing a
diff split between the current file contents and the changes to be performed
by the refactoring.  Possible values include ‘vertical’ or ‘horizontal’.</li>
</ul>
</div>
</div>


    </div>
  </div>
</div>
  
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      
  <a href="../../_sources/vim/java/refactor.rst.txt"
         rel="nofollow">Source</a> /
      <a href="#">Back to top</a>
    </p>
    <p>
        &copy; Copyright 2005 - 2017, Eric Van Dewoestine<br/>
      Last updated on Dec 09, 2022<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 5.3.0
      with the <a href="https://github.com/ervandew/sphinx-bootstrap-theme">Bootstrap Theme</a>
      <br/>
    </p>
  </div>
</footer>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-ERLXB6990G"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-ERLXB6990G');
  </script>

  </body>
</html>